@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap');
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,400&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Arimo:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Geist:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Hanken+Grotesk:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Sen:wght@400;500;600;700;800&display=swap');

@import "tailwindcss";

@theme {
  /* darker than neutral-900, roughly "neutral-925" */
  --color-background: #121212;
  --color-surface: #141414;
  --color-border: #1a1a1a;
  --color-text: #ffffff;
  --color-text-muted: #a0a0a0;
  --font-sans: Inter, system-ui, sans-serif;
}

/* Theme CSS Variables - Applied dynamically by ThemeManager */
:root {
  /* Default values (neutral theme) - will be overridden by ThemeManager */
  --app-bg: #070707;
  --surface-bg: #171717;
  --border-subtle: #262626;
  --text-primary: #e5e5e5;
  --text-secondary: #a3a3a3;
  --badge-editing-bg: #2563eb;
  --badge-editing-text: #ffffff;
  --badge-focus-bg: #262626;
  --badge-focus-text: #e5e5e5;
  /* Legacy single badge text var */
  --badge-text: #ffffff;

  /* ===== Wabi Grid Style Variables ===== */
  --wabi-bg: #0c0c0c;
  /* Warm charcoal background */
  --wabi-text: #dbdbdb;
  /* Cream/kinari text */
  --wabi-text-muted: rgba(211, 211, 211, 0.5);
  /* Muted cream for placeholder */
  --wabi-border: rgba(255, 255, 255, 0.08);
  /* Subtle border - zen void style */
  --wabi-border-hover: rgba(255, 255, 255, 0.12);
  /* Border hover - zen void style */
  --wabi-title: #aaa;
  /* Title color */
  --wabi-date: #666;
  /* Date color */

  /* ===== Zen Void Style Variables ===== */
  --void-bg: #000000;
  /* Near-black background */
  --void-title: rgba(255, 255, 255, 0.92);
  /* Bright white title */
  --void-text: rgba(255, 255, 255, 0.456);
  /* Softer body text */
  --void-text-muted: rgba(255, 255, 255, 0.619);
  /* Muted placeholder */
  --void-border: rgba(255, 255, 255, 0.078);
  /* Subtle border */
  --void-border-hover: rgba(255, 255, 255, 0.15);
  /* Border hover */
  --void-date: rgba(255, 255, 255, 0.25);
  /* Date color */

  /* ===== Test Lab Style Variables (Experimental) ===== */
  --lab-bg: #111111;
  /* Background - neutral-900 */
  --lab-text: #e0e0e0;
  /* Primary text color */
  --lab-text-muted: rgba(167, 165, 165, 0.5);
  /* Muted/placeholder text */
  --lab-border: #2a2a2a;
  /* Border color - lighter */
  --lab-border-hover: #4a4a4a;
  /* Border hover color - lighter */
  --lab-title: #ccc;
  /* Title color */
  --lab-accent: #8b5cf6;
  /* Accent color - violet */
}

@layer base {
  body {
    @apply bg-background text-text font-sans;
    margin: 0;
    min-height: 100vh;
  }
}

@layer components {

  /* L-corner decorative borders for focus mode panels */
  .panel-corners {
    position: relative;
  }

  .panel-corners::before,
  .panel-corners::after,
  .panel-corners>.corner-bl,
  .panel-corners>.corner-br {
    content: '';
    position: absolute;
    width: 5px;
    height: 5px;
    pointer-events: none;
  }

  /* Top-left corner */
  .panel-corners::before {
    top: 0;
    left: 0;
    border-top: 1px solid RGB(255, 255, 255, 0.4);
    border-left: 1px solid RGB(255, 255, 255, 0.4);
  }

  /* Top-right corner */
  .panel-corners::after {
    top: 0;
    right: 0;
    border-top: 1px solid RGB(255, 255, 255, 0.4);
    border-right: 1px solid RGB(255, 255, 255, 0.4);
  }

  /* Bottom-left corner (requires extra div) */
  .panel-corners>.corner-bl {
    bottom: 0;
    left: 0;
    border-bottom: 1px solid RGB(255, 255, 255, 0.4);
    border-left: 1px solid RGB(255, 255, 255, 0.4);
  }

  /* Bottom-right corner (requires extra div) */
  .panel-corners>.corner-br {
    bottom: 0;
    right: 0;
    border-bottom: 1px solid RGB(255, 255, 255, 0.4);
    border-right: 1px solid RGB(255, 255, 255, 0.4);
  }
}

/* Dock color button staggered animation */
@keyframes dock-color-appear {
  0% {
    opacity: 0;
    transform: scale(0.4) translateX(-8px);
  }

  50% {
    transform: scale(1.1) translateX(0);
  }

  100% {
    opacity: 1;
    transform: scale(1) translateX(0);
  }
}

.dock-color-btn {
  opacity: 0;
  animation: dock-color-appear 0.35s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Command Palette Animations */
@keyframes fade-in {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes slide-down {
  from {
    opacity: 0;
    transform: translateY(-12px) scale(0.99);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.animate-fade-in {
  animation: fade-in 0.1s ease-out forwards;
}

.animate-slide-down {
  animation: slide-down 0.12s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.animate-command-palette-in {
  animation: slide-down 0.12s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

@keyframes command-open {
  0% {
    opacity: 0;
    transform: scale(0.96) translateY(-4px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.animate-command-open {
  animation: command-open 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Note swap animation - subtle fade in when note lands in new panel */
@keyframes note-swap-in {
  from {
    opacity: 0.4;
    transform: scale(0.98);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

.note-swap-animation {
  animation: note-swap-in 0.2s ease-out forwards;
}

/* Command Palette Scrollbar Styling */
.command-palette-wabi-grid,
.command-palette-zen-void,
.command-palette-test-lab {
  --cp-accent: var(--badge-editing-bg);
  --cp-accent-soft: rgba(37, 99, 235, 0.12);
  --cp-accent-border: rgba(37, 99, 235, 0.35);
  --cp-glow-soft: rgba(255, 255, 255, 0.03);
  --cp-border-subtle: rgba(255, 255, 255, 0.08);
  --cp-input-bg: rgba(255, 255, 255, 0.03);
  --cp-input-bg-hover: rgba(255, 255, 255, 0.05);
}

.command-palette-wabi-grid {
  --cp-bg: var(--wabi-bg);
  --cp-border: var(--wabi-border);
  --cp-text: var(--wabi-text);
  --cp-muted: var(--wabi-text-muted);
}

.command-palette-zen-void {
  --cp-bg: var(--void-bg);
  --cp-border: var(--void-border);
  --cp-text: var(--void-title);
  --cp-muted: var(--void-text-muted);
}

.command-palette-test-lab {
  --cp-bg: var(--lab-bg);
  --cp-border: var(--lab-border);
  --cp-text: var(--lab-text);
  --cp-muted: var(--lab-text-muted);
}

.command-palette-zen-void ::-webkit-scrollbar {
  width: 4px;
}

.command-palette-zen-void ::-webkit-scrollbar-track {
  background: transparent;
}

.command-palette-zen-void ::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 2px;
}

.command-palette-wabi-grid ::-webkit-scrollbar {
  width: 4px;
}

.command-palette-wabi-grid ::-webkit-scrollbar-track {
  background: transparent;
}

.command-palette-wabi-grid ::-webkit-scrollbar-thumb {
  background: #222;
  border-radius: 2px;
}

@layer utilities {

  /* react-grid-layout overrides (avoid default red placeholder) */
  .react-grid-item.react-grid-placeholder {
    background: rgba(255, 255, 255, 0.08) !important;
    opacity: 1 !important;
    border-radius: 0;
    border: none;
    box-shadow:
      0 12px 28px rgba(0, 0, 0, 0.45);
  }

  /* subtle neutral lift while dragging/resizing */
  .react-grid-item.react-draggable-dragging,
  .react-grid-item.resizing {
    box-shadow:
      0 0 0 1px rgba(255, 255, 255, 0.10) inset,
      0 14px 34px rgba(0, 0, 0, 0.55) !important;
  }
}

/* ========================================
   Sticky Note Texture Patterns
   Adapted from premium pattern designs
   ======================================== */

/* Stars Pattern - dense starfield */
.note-pattern-noise {
  background-color: #0a0a0a;
  background-image:
    radial-gradient(circle at 5% 10%, rgba(255, 255, 255, 1) 0.5px, transparent 0.5px),
    radial-gradient(circle at 15% 35%, rgba(255, 255, 255, 0.9) 0.5px, transparent 0.5px),
    radial-gradient(circle at 25% 60%, rgba(255, 255, 255, 0.8) 0.5px, transparent 0.5px),
    radial-gradient(circle at 35% 15%, rgba(255, 255, 255, 0.7) 0.5px, transparent 0.5px),
    radial-gradient(circle at 45% 85%, rgba(255, 255, 255, 0.9) 0.5px, transparent 0.5px),
    radial-gradient(circle at 55% 40%, rgba(255, 255, 255, 0.6) 0.5px, transparent 0.5px),
    radial-gradient(circle at 65% 70%, rgba(255, 255, 255, 1) 0.5px, transparent 0.5px),
    radial-gradient(circle at 75% 25%, rgba(255, 255, 255, 0.8) 0.5px, transparent 0.5px),
    radial-gradient(circle at 85% 55%, rgba(255, 255, 255, 0.7) 0.5px, transparent 0.5px),
    radial-gradient(circle at 95% 90%, rgba(255, 255, 255, 0.9) 0.5px, transparent 0.5px),
    radial-gradient(circle at 10% 75%, rgba(255, 255, 255, 0.8) 0.5px, transparent 0.5px),
    radial-gradient(circle at 20% 45%, rgba(255, 255, 255, 0.6) 0.5px, transparent 0.5px),
    radial-gradient(circle at 30% 90%, rgba(255, 255, 255, 1) 0.5px, transparent 0.5px),
    radial-gradient(circle at 40% 30%, rgba(255, 255, 255, 0.7) 0.5px, transparent 0.5px),
    radial-gradient(circle at 50% 5%, rgba(255, 255, 255, 0.9) 0.5px, transparent 0.5px),
    radial-gradient(circle at 60% 50%, rgba(255, 255, 255, 0.5) 0.5px, transparent 0.5px),
    radial-gradient(circle at 70% 95%, rgba(255, 255, 255, 0.8) 0.5px, transparent 0.5px),
    radial-gradient(circle at 80% 65%, rgba(255, 255, 255, 1) 0.5px, transparent 0.5px),
    radial-gradient(circle at 90% 20%, rgba(255, 255, 255, 0.7) 0.5px, transparent 0.5px),
    radial-gradient(circle at 8% 88%, rgba(255, 255, 255, 0.9) 0.5px, transparent 0.5px),
    radial-gradient(circle at 28% 8%, rgba(255, 255, 255, 0.6) 0.5px, transparent 0.5px),
    radial-gradient(circle at 48% 58%, rgba(255, 255, 255, 0.8) 0.5px, transparent 0.5px),
    radial-gradient(circle at 68% 38%, rgba(255, 255, 255, 1) 0.5px, transparent 0.5px),
    radial-gradient(circle at 88% 78%, rgba(255, 255, 255, 0.7) 0.5px, transparent 0.5px),
    radial-gradient(circle at 3% 48%, rgba(255, 255, 255, 0.9) 0.5px, transparent 0.5px),
    radial-gradient(circle at 98% 42%, rgba(255, 255, 255, 0.8) 0.5px, transparent 0.5px);
  background-size: 60px 60px;
}

/* Cross/X Pattern - intersecting diagonal lines */
.note-pattern-dots {
  background-color: #0a0a0a;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 800'%3E%3Cg stroke-width='1.5' stroke='hsla(0, 0%25, 100%25, 0.25)' fill='none'%3E%3Cline x1='0' y1='0' x2='400' y2='400'%3E%3C/line%3E%3Cline x1='400' y1='0' x2='0' y2='400'%3E%3C/line%3E%3Cline x1='400' y1='0' x2='800' y2='400'%3E%3C/line%3E%3Cline x1='800' y1='0' x2='400' y2='400'%3E%3C/line%3E%3Cline x1='0' y1='400' x2='400' y2='800'%3E%3C/line%3E%3Cline x1='400' y1='400' x2='0' y2='800'%3E%3C/line%3E%3Cline x1='400' y1='400' x2='800' y2='800'%3E%3C/line%3E%3Cline x1='800' y1='400' x2='400' y2='800'%3E%3C/line%3E%3C/g%3E%3C/svg%3E");
  background-size: 40px 40px;
}

/* Grid Pattern with Ellipsis - grid lines with dots at intersections */
.note-pattern-grid {
  background-color: #0a0a0a;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 800'%3E%3Cg stroke-width='1' stroke='hsla(0, 0%25, 100%25, 0.15)' fill='none'%3E%3Crect width='400' height='400' x='0' y='0'%3E%3C/rect%3E%3Ccircle r='6' cx='0' cy='0' fill='hsla(0, 0%25, 100%25, 0.3)' stroke='none'%3E%3C/circle%3E%3Crect width='400' height='400' x='400' y='0'%3E%3C/rect%3E%3Ccircle r='6' cx='400' cy='0' fill='hsla(0, 0%25, 100%25, 0.3)' stroke='none'%3E%3C/circle%3E%3Crect width='400' height='400' x='0' y='400'%3E%3C/rect%3E%3Ccircle r='6' cx='0' cy='400' fill='hsla(0, 0%25, 100%25, 0.3)' stroke='none'%3E%3C/circle%3E%3Crect width='400' height='400' x='400' y='400'%3E%3C/rect%3E%3Ccircle r='6' cx='400' cy='400' fill='hsla(0, 0%25, 100%25, 0.3)' stroke='none'%3E%3C/circle%3E%3C/g%3E%3C/svg%3E");
  background-size: 28px 28px;
}

/* Diagonal Lines Pattern */
.note-pattern-lines {
  background-color: #0a0a0a;
  background-image: repeating-linear-gradient(45deg,
      transparent,
      transparent 5px,
      rgba(255, 255, 255, 0.15) 5px,
      rgba(255, 255, 255, 0.15) 6px);
}

/* ========================================
   Wabi Grid Style - Japanese Inspired
   ======================================== */

/* Wabi Grid Editor - Serif Italic Content */
.wabi-grid-editor {
  display: flex;
  flex-direction: column;
  overflow: hidden;
  height: 100%;
  min-height: 0;
  /* Critical for flex children to shrink */
  /* Enable container queries for responsive padding */
  container-type: inline-size;
}

/* Target ReactQuill's internal .quill wrapper */
.wabi-grid-editor .quill {
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0;
  /* Allow shrinking within flex parent */
  height: 100%;
  overflow: hidden;
}

.wabi-grid-editor .ql-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  /* Allow shrinking */
  overflow: hidden;
  position: relative;
  /* For absolute positioning of editor */
}

.wabi-grid-editor .ql-editor {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  /* Default: percentage-based padding for small panes, caps at 25px */
  padding: 0 clamp(1px, 5%, 25px) 0 clamp(1px, 5%, 25px) !important;
  /* Font set via CSS variable, defaults to Geist */
  font-family: var(--editor-font, 'Geist', system-ui, sans-serif) !important;
  font-style: normal !important;
  font-weight: 400 !important;
  font-size: var(--editor-font-size, 0.9rem) !important;
  line-height: var(--editor-line-height, 1.8) !important;
  letter-spacing: var(--editor-letter-spacing, 0.01em) !important;
  color: var(--wabi-text) !important;
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch;
}

/* Smooth padding curve with gradual breakpoints */
@container (min-width: 400px) {
  .wabi-grid-editor .ql-editor {
    padding: 0 25px 0 25px !important;
  }
}

@container (min-width: 600px) {
  .wabi-grid-editor .ql-editor {
    padding: 0 40px 0 40px !important;
  }
}

@container (min-width: 800px) {
  .wabi-grid-editor .ql-editor {
    padding: 0 60px 0 60px !important;
  }
}

@container (min-width: 1000px) {
  .wabi-grid-editor .ql-editor {
    padding: 0 90px 0 90px !important;
  }
}

@container (min-width: 1200px) {
  .wabi-grid-editor .ql-editor {
    padding: 0 130px 0 130px !important;
  }
}

@container (min-width: 1500px) {
  .wabi-grid-editor .ql-editor {
    padding: 0 180px 0 180px !important;
  }
}

/* Scrollbar styling for Wabi Grid editor - hidden by default, visible on hover */
.wabi-grid-editor .ql-editor::-webkit-scrollbar {
  width: 3px;
}

.wabi-grid-editor .ql-editor::-webkit-scrollbar-track {
  background: transparent;
}

.wabi-grid-editor .ql-editor::-webkit-scrollbar-thumb {
  background: transparent;
  border-radius: 2px;
  transition: background 0.2s ease;
}

/* Show scrollbar on hover over the editor */
.wabi-grid-editor:hover .ql-editor::-webkit-scrollbar-thumb {
  background: #333;
}

.wabi-grid-editor:hover .ql-editor::-webkit-scrollbar-thumb:hover {
  background: #555;
}

/* Placeholder styling for Wabi Grid */
.wabi-grid-editor .ql-editor.ql-blank::before {
  font-family: var(--editor-font, 'Geist', system-ui, sans-serif) !important;
  font-style: italic !important;
  font-weight: 400 !important;
  color: var(--wabi-text-muted) !important;
  /* Match dynamic padding - default uses clamp */
  left: clamp(1px, 5%, 25px) !important;
}

@container (min-width: 400px) {
  .wabi-grid-editor .ql-editor.ql-blank::before {
    left: 25px !important;
  }
}

@container (min-width: 600px) {
  .wabi-grid-editor .ql-editor.ql-blank::before {
    left: 40px !important;
  }
}

@container (min-width: 800px) {
  .wabi-grid-editor .ql-editor.ql-blank::before {
    left: 60px !important;
  }
}

@container (min-width: 1000px) {
  .wabi-grid-editor .ql-editor.ql-blank::before {
    left: 90px !important;
  }
}

@container (min-width: 1200px) {
  .wabi-grid-editor .ql-editor.ql-blank::before {
    left: 130px !important;
  }
}

@container (min-width: 1500px) {
  .wabi-grid-editor .ql-editor.ql-blank::before {
    left: 180px !important;
  }
}

/* ===== Font Modifier Classes for Wabi Grid ===== */

/* Mono font variant */
.wabi-grid-editor.font-mono {
  --editor-font: 'JetBrains Mono', monospace;
  --editor-font-size: 0.82rem;
  --editor-line-height: 1.7;
  --editor-letter-spacing: 0.02em;
}

/* Geist font variant (default, explicit) */
.wabi-grid-editor.font-geist {
  --editor-font: 'Geist', system-ui, sans-serif;
  --editor-font-size: 0.9rem;
  --editor-line-height: 1.8;
  --editor-letter-spacing: 0.01em;
}

/* Hanken Grotesk font variant - classic grotesque */
.wabi-grid-editor.font-hanken {
  --editor-font: 'Hanken Grotesk', system-ui, sans-serif;
  --editor-font-size: 0.9rem;
  --editor-line-height: 1.85;
  --editor-letter-spacing: 0.005em;
}

/* Sen font variant - geohumanist, friendly geometric */
.wabi-grid-editor.font-sen {
  --editor-font: 'Sen', system-ui, sans-serif;
  --editor-font-size: 0.88rem;
  --editor-line-height: 1.9;
  --editor-letter-spacing: 0.01em;
}

/* Bold text styling for Wabi Grid - subtle but visible */
.wabi-grid-editor .ql-editor strong,
.wabi-grid-editor .ql-editor b {
  font-weight: 600 !important;
  color: #ddddd4 !important;
  /* Slightly brighter cream for bold */
}

/* Italic text styling for Wabi Grid */
.wabi-grid-editor .ql-editor em,
.wabi-grid-editor .ql-editor i {
  font-style: italic !important;
}

/* Bold + Italic combined - maintain bold brightness */
.wabi-grid-editor .ql-editor strong em,
.wabi-grid-editor .ql-editor strong i,
.wabi-grid-editor .ql-editor em strong,
.wabi-grid-editor .ql-editor i strong,
.wabi-grid-editor .ql-editor b em,
.wabi-grid-editor .ql-editor b i,
.wabi-grid-editor .ql-editor em b,
.wabi-grid-editor .ql-editor i b {
  font-weight: 500 !important;
  font-style: italic !important;
  color: #ddddd4 !important;
  /* Keep bold brightness for combined */
}

/* ========================================
   Zen Void Style - Minimal, Light Sans-Serif
   ======================================== */

/* Zen Void Editor Container */
.zen-void-editor {
  display: flex;
  flex-direction: column;
  overflow: hidden;
  height: 100%;
  min-height: 0;
  /* Enable container queries for responsive padding */
  container-type: inline-size;
}

/* Target ReactQuill's internal .quill wrapper */
.zen-void-editor .quill {
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0;
  height: 100%;
  overflow: hidden;
}

.zen-void-editor .ql-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  overflow: hidden;
  position: relative;
}

.zen-void-editor .ql-editor {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  /* Default: percentage-based padding for small panes, caps at 25px */
  padding: 0 clamp(1px, 5%, 25px) 0 clamp(1px, 5%, 25px) !important;
  font-family: 'Inter', system-ui, sans-serif !important;
  font-weight: 300 !important;
  font-size: 0.875rem !important;
  line-height: 2 !important;
  letter-spacing: 0.01em !important;
  color: var(--void-text-muted) !important;
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch;
}

/* Smooth padding curve with gradual breakpoints */
@container (min-width: 400px) {
  .zen-void-editor .ql-editor {
    padding: 0 25px 0 25px !important;
  }
}

@container (min-width: 600px) {
  .zen-void-editor .ql-editor {
    padding: 0 40px 0 40px !important;
  }
}

@container (min-width: 800px) {
  .zen-void-editor .ql-editor {
    padding: 0 60px 0 60px !important;
  }
}

@container (min-width: 1000px) {
  .zen-void-editor .ql-editor {
    padding: 0 90px 0 90px !important;
  }
}

@container (min-width: 1200px) {
  .zen-void-editor .ql-editor {
    padding: 0 130px 0 130px !important;
  }
}

@container (min-width: 1500px) {
  .zen-void-editor .ql-editor {
    padding: 0 180px 0 180px !important;
  }
}

/* Scrollbar styling for Zen Void editor - matching Wabi Grid */
.zen-void-editor .ql-editor::-webkit-scrollbar {
  width: 3px;
}

.zen-void-editor .ql-editor::-webkit-scrollbar-track {
  background: transparent;
}

.zen-void-editor .ql-editor::-webkit-scrollbar-thumb {
  background: transparent;
  border-radius: 2px;
  transition: background 0.2s ease;
}

/* Show scrollbar on hover over the editor */
.zen-void-editor:hover .ql-editor::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.15);
}

.zen-void-editor:hover .ql-editor::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.25);
}

/* Placeholder styling for Zen Void */
.zen-void-editor .ql-editor.ql-blank::before {
  font-family: 'Inter', system-ui, sans-serif !important;
  font-weight: 300 !important;
  color: var(--void-text-muted) !important;
  /* Match dynamic padding - default uses clamp */
  left: clamp(1px, 5%, 25px) !important;
}

@container (min-width: 400px) {
  .zen-void-editor .ql-editor.ql-blank::before {
    left: 25px !important;
  }
}

@container (min-width: 600px) {
  .zen-void-editor .ql-editor.ql-blank::before {
    left: 40px !important;
  }
}

@container (min-width: 800px) {
  .zen-void-editor .ql-editor.ql-blank::before {
    left: 60px !important;
  }
}

@container (min-width: 1000px) {
  .zen-void-editor .ql-editor.ql-blank::before {
    left: 90px !important;
  }
}

@container (min-width: 1200px) {
  .zen-void-editor .ql-editor.ql-blank::before {
    left: 130px !important;
  }
}

@container (min-width: 1500px) {
  .zen-void-editor .ql-editor.ql-blank::before {
    left: 180px !important;
  }
}

/* Bold text styling for Zen Void - subtle but visible */
.zen-void-editor .ql-editor strong,
.zen-void-editor .ql-editor b {
  font-weight: 500 !important;
  color: rgba(255, 255, 255, 0.75) !important;
  /* Slightly brighter for bold */
}

/* Italic text styling for Zen Void */
.zen-void-editor .ql-editor em,
.zen-void-editor .ql-editor i {
  font-style: italic !important;
}

/* Bold + Italic combined - maintain bold brightness */
.zen-void-editor .ql-editor strong em,
.zen-void-editor .ql-editor strong i,
.zen-void-editor .ql-editor em strong,
.zen-void-editor .ql-editor i strong,
.zen-void-editor .ql-editor b em,
.zen-void-editor .ql-editor b i,
.zen-void-editor .ql-editor em b,
.zen-void-editor .ql-editor i b {
  font-weight: 500 !important;
  font-style: italic !important;
  color: rgba(255, 255, 255, 0.75) !important;
  /* Keep bold brightness for combined */
}

/* ========================================
   Test Lab Style - Experimental Playground
   ======================================== */

/* Test Lab Editor Container */
.test-lab-editor {
  display: flex;
  flex-direction: column;
  overflow: hidden;
  height: 100%;
  min-height: 0;
  /* Enable container queries for responsive padding */
  container-type: inline-size;
}

/* Target ReactQuill's internal .quill wrapper */
.test-lab-editor .quill {
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0;
  height: 100%;
  overflow: hidden;
}

.test-lab-editor .ql-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  overflow: hidden;
  position: relative;
}

.test-lab-editor .ql-editor {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  /* Default: percentage-based padding for small panes, caps at 25px */
  padding: 0 clamp(1px, 5%, 25px) 0 clamp(1px, 5%, 25px) !important;
  font-family: 'Arimo', system-ui, sans-serif !important;
  font-weight: 400 !important;
  font-size: 0.875rem !important;
  line-height: 2.0 !important;
  letter-spacing: 0.02em !important;
  color: var(--lab-text) !important;
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch;
}

/* Smooth padding curve with gradual breakpoints */
@container (min-width: 400px) {
  .test-lab-editor .ql-editor {
    padding: 0 25px 0 25px !important;
  }
}

@container (min-width: 600px) {
  .test-lab-editor .ql-editor {
    padding: 0 40px 0 40px !important;
  }
}

@container (min-width: 800px) {
  .test-lab-editor .ql-editor {
    padding: 0 60px 0 60px !important;
  }
}

@container (min-width: 1000px) {
  .test-lab-editor .ql-editor {
    padding: 0 90px 0 90px !important;
  }
}

@container (min-width: 1200px) {
  .test-lab-editor .ql-editor {
    padding: 0 130px 0 130px !important;
  }
}

@container (min-width: 1500px) {
  .test-lab-editor .ql-editor {
    padding: 0 180px 0 180px !important;
  }
}

/* Scrollbar styling for Test Lab editor */
.test-lab-editor .ql-editor::-webkit-scrollbar {
  width: 3px;
}

.test-lab-editor .ql-editor::-webkit-scrollbar-track {
  background: transparent;
}

.test-lab-editor .ql-editor::-webkit-scrollbar-thumb {
  background: transparent;
  border-radius: 2px;
  transition: background 0.2s ease;
}

/* Show scrollbar on hover over the editor */
.test-lab-editor:hover .ql-editor::-webkit-scrollbar-thumb {
  background: #333;
}

.test-lab-editor:hover .ql-editor::-webkit-scrollbar-thumb:hover {
  background: #555;
}

/* Placeholder styling for Test Lab */
.test-lab-editor .ql-editor.ql-blank::before {
  font-family: 'Arimo', system-ui, sans-serif !important;
  font-weight: 400 !important;
  color: var(--lab-text-muted) !important;
  /* Match dynamic padding - default uses clamp */
  left: clamp(1px, 5%, 25px) !important;
}

@container (min-width: 400px) {
  .test-lab-editor .ql-editor.ql-blank::before {
    left: 25px !important;
  }
}

@container (min-width: 600px) {
  .test-lab-editor .ql-editor.ql-blank::before {
    left: 40px !important;
  }
}

@container (min-width: 800px) {
  .test-lab-editor .ql-editor.ql-blank::before {
    left: 60px !important;
  }
}

@container (min-width: 1000px) {
  .test-lab-editor .ql-editor.ql-blank::before {
    left: 90px !important;
  }
}

@container (min-width: 1200px) {
  .test-lab-editor .ql-editor.ql-blank::before {
    left: 130px !important;
  }
}

@container (min-width: 1500px) {
  .test-lab-editor .ql-editor.ql-blank::before {
    left: 180px !important;
  }
}

/* Bold text styling for Test Lab */
.test-lab-editor .ql-editor strong,
.test-lab-editor .ql-editor b {
  font-weight: 600 !important;
  color: #fff !important;
}

/* Italic text styling for Test Lab */
.test-lab-editor .ql-editor em,
.test-lab-editor .ql-editor i {
  font-style: italic !important;
}

/* Bold + Italic combined */
.test-lab-editor .ql-editor strong em,
.test-lab-editor .ql-editor strong i,
.test-lab-editor .ql-editor em strong,
.test-lab-editor .ql-editor i strong,
.test-lab-editor .ql-editor b em,
.test-lab-editor .ql-editor b i,
.test-lab-editor .ql-editor em b,
.test-lab-editor .ql-editor i b {
  font-weight: 600 !important;
  font-style: italic !important;
  color: #fff !important;
}

/* Command Palette styling for Test Lab */
.command-palette-test-lab ::-webkit-scrollbar {
  width: 4px;
}

.command-palette-test-lab ::-webkit-scrollbar-track {
  background: transparent;
}

.command-palette-test-lab ::-webkit-scrollbar-thumb {
  background: #333;
  border-radius: 2px;
}

@layer utilities {
  .hover-glow {
    transition: background 0.15s ease;
  }

  .hover-glow:hover {
    background: var(--cp-glow-soft);
  }

  .press-effect {
    transition: transform 0.1s ease;
  }

  .press-effect:active {
    transform: scale(0.98);
  }

  .kbd {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 2px 6px;
    font-size: 11px;
    border-radius: 6px;
    background: var(--cp-input-bg);
    color: var(--cp-muted);
    border: 1px solid var(--cp-border);
    font-family: ui-monospace, monospace;
  }
}

/* ========================================
   Quill List Styling Overrides
   - Bullet list padding aligned with numbered lists
   - Enhanced checkbox/todo list visibility
   NOTE: Quill uses <li data-list="..."> NOT <ul>/<ol> tags!
   ======================================== */

/* Reduce bullet list left padding to align with numbered lists */
/* Quill uses data-list="bullet" for bullet lists */
.wabi-grid-editor .ql-editor li[data-list="bullet"],
.zen-void-editor .ql-editor li[data-list="bullet"],
.test-lab-editor .ql-editor li[data-list="bullet"] {
  padding-left: 1em !important;
}

/* Ordered lists - keep consistent */
.wabi-grid-editor .ql-editor li[data-list="ordered"],
.zen-void-editor .ql-editor li[data-list="ordered"],
.test-lab-editor .ql-editor li[data-list="ordered"] {
  padding-left: 1em !important;
}

/* ========================================
   Custom Checkbox/Todo List Styling
   - Custom checkbox boxes with rounded corners
   - Custom SVG checkmark (white/gray, no colors)
   - Strikethrough on completed items
   - Theme-aware fonts and colors for text
   ======================================== */

/* Reset default Quill checkbox styling */
.wabi-grid-editor .ql-editor ul[data-checked]>li::before,
.zen-void-editor .ql-editor ul[data-checked]>li::before,
.test-lab-editor .ql-editor ul[data-checked]>li::before {
  /* Override Quill's default checkbox character */
  content: '' !important;
  display: inline-block !important;
  width: 14px !important;
  height: 14px !important;
  margin-right: 8px !important;
  margin-top: 2px !important;
  vertical-align: middle !important;
  border-radius: 3px !important;
  border: 1.5px solid rgba(255, 255, 255, 0.4) !important;
  background-color: transparent !important;
  flex-shrink: 0 !important;
  cursor: pointer !important;
  transition: all 0.15s ease !important;
}

/* Unchecked checkbox - subtle white border */
.wabi-grid-editor .ql-editor ul[data-checked="false"]>li::before {
  border-color: rgba(220, 220, 210, 0.45) !important;
}

.zen-void-editor .ql-editor ul[data-checked="false"]>li::before {
  border-color: rgba(255, 255, 255, 0.35) !important;
}

.test-lab-editor .ql-editor ul[data-checked="false"]>li::before {
  border-color: rgba(255, 255, 255, 0.4) !important;
}

/* Checked checkbox - bright white bg with black tick */
.wabi-grid-editor .ql-editor ul[data-checked="true"]>li::before,
.zen-void-editor .ql-editor ul[data-checked="true"]>li::before,
.test-lab-editor .ql-editor ul[data-checked="true"]>li::before {
  border-color: rgba(255, 255, 255, 0.9) !important;
  background-color: rgba(255, 255, 255, 0.85) !important;
  /* SVG checkmark - black tick on white bg */
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23111111' stroke-width='3.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M5 12l5 5L20 7'/%3E%3C/svg%3E") !important;
  background-size: 10px 10px !important;
  background-position: center !important;
  background-repeat: no-repeat !important;
}

/* Checkbox list item text - inherit theme fonts */
.wabi-grid-editor .ql-editor ul[data-checked]>li {
  font-family: var(--editor-font, 'Geist', system-ui, sans-serif) !important;
  color: var(--wabi-text) !important;
}

.zen-void-editor .ql-editor ul[data-checked]>li {
  font-family: 'Inter', system-ui, sans-serif !important;
  color: var(--void-text-muted) !important;
}

.test-lab-editor .ql-editor ul[data-checked]>li {
  font-family: 'Arimo', system-ui, sans-serif !important;
  color: var(--lab-text) !important;
}

/* Completed items - strikethrough (brighter text) */
.wabi-grid-editor .ql-editor ul[data-checked="true"]>li {
  color: rgba(220, 220, 210, 0.55) !important;
  text-decoration: line-through !important;
  text-decoration-color: rgba(220, 220, 210, 0.4) !important;
}

.zen-void-editor .ql-editor ul[data-checked="true"]>li {
  color: rgba(255, 255, 255, 0.45) !important;
  text-decoration: line-through !important;
  text-decoration-color: rgba(255, 255, 255, 0.35) !important;
}

.test-lab-editor .ql-editor ul[data-checked="true"]>li {
  color: rgba(224, 224, 224, 0.5) !important;
  text-decoration: line-through !important;
  text-decoration-color: rgba(224, 224, 224, 0.4) !important;
}

/* Hover effect on unchecked checkboxes */
.wabi-grid-editor .ql-editor ul[data-checked="false"]>li::before:hover,
.zen-void-editor .ql-editor ul[data-checked="false"]>li::before:hover,
.test-lab-editor .ql-editor ul[data-checked="false"]>li::before:hover {
  border-color: rgba(255, 255, 255, 0.6) !important;
  background-color: rgba(255, 255, 255, 0.05) !important;
}